$(window).on("load", function() {
    const n = document.title;
    document.title = "RevengeOS | " + n,
    $.getJSON("https://raw.githubusercontent.com/Chityanj/jsons/main/maintainer.json", function(e) {
        if (0 == (e = e || []).length)
            return document.getElementById("device_section").style.display = "none";
        for (var t = 0; t < e.length; t++)
            e[t].codename == n && ($("#downimg").append(`\n\t  <img src="https://wiki.lineageos.org/images/devices/${e[t].codename}.png" onerror="this.onerror=null;this.src='../../images/${e[t].codename}.webp';" />\n                                \n            `),
            $("#title").append(`\n                ${e[t].name}\n                \n                `),
            $("#buttons").append(`\n                <a href="${e[t].xda_thread}"><button type="button" class="btn peach-gradient">XDA</button></a>\n                \n                `))
    }).fail(function() {
        return document.getElementById("device_section").style.display = "none"
    }),
    $.getJSON("https://raw.githubusercontent.com/RevengeOS-Devices/official_devices/r10.0/" + n + "/device.json", function(n) {
        var t = dayjs.unix(n.datetime)
          , o = dayjs(t).format("DD/MM/YYYY")
          , a = (n.size / 1048576).toFixed(1) + "MB";
        $("#ver-value").append(`\n                ${n.version}                      \n               `),
        $("#date-value").append(o),
        $("#size-value").append(a),
        $("#buttons").append(`<a href="${n.url}"><button type="button" id="downloadbutton" class="btn blue-gradient">Download</button></a>`),
        var button = document.getElementById("downloadbutton");
        button.onclick = (()=>umami.trackEvent("Download" + n, "download"));
    })
});

